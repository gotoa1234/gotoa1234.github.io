---
layout:default_post
title:"0099.Google提供的機器人防護服務-實作導入reCAPTCHA到C#網站"
excerpt:"C#學習筆記"
tags:
-"Asp.NETCore"
-"reCAPTCHA"
-"GoogleCloudPlatform"
-"Asp.NETCore"
-"Asp.NETCoreWebMVC"
-"C#"
-"Azure"
-"Selenium"
-"Web"
---

<divclass="summary">
<br/>範例所需：1.VisualStudio2022Asp.netCore
<br/>&emsp;&emsp;&emsp;&emsp;&emsp;2.開通GoogleCloudPlatform便於管理reCAPTCHA金鑰設定(要有Google帳號啟用)
<br/>範例檔案：<ahref="https://github.com/gotoa1234/MyBlogExample/tree/main/GoogleCloudStorageSupportS3APIExample">本篇範例代碼</a>
<br/>解決問題：如何啟用Google的reCAPTCHA並且導入Asp.netCoreC#Web，達到防止機器人攻擊的效果，保護自己的網站
<br/>&emsp;&emsp;&emsp;&emsp;&emsp;2.2025/8月為止，說明當前GooglereCAPTCHA的3種類型導入與用法
<br/>基本介紹：本篇分為六大部分。
<br/>第一部分：reCAPTCHA介紹
<br/>第二部分：啟用配置&管理金鑰
<br/>第三部分：範例專案架構
<br/>第四部分：reCAPTCHADEMO-隱形reCAPTCHA標記
<br/>第五部分：reCAPTCHADEMO-「我不是機器人」核取方塊
<br/>第六部分：reCAPTCHADEMO-以分數為依據(v3)
</div>

<divclass="title">
<br/><hrclass="titleinner">
	<span></span>
	<hrclass="titleinner"><br/>
</div>


<br/><br/>
<h1>第一部分：reCAPTCHA介紹</h1>

<h2>Step1：介紹</h2>
Google官方的<ahref="https://cloud.google.com/recaptcha/docs/overview?hl=zh-tw">reCAPTCHA總覽</a>

```Markdown
reCAPTCHA採用進階風險分析技術偵測詐欺行為，您可以透過reCAPTCHA保護網站或行動應用程式免受垃圾內容和濫用行為侵擾，並偵測其他類型的詐欺活動，例如憑證填充、帳戶盜用(ATO)和自動建立帳戶。
reCAPTCHA提供更精細的分數、高風險事件的原因代碼、行動應用程式SDK、密碼外洩偵測、多重驗證(MFA)，以及調整網站專屬模型的功能，可保護企業業務。
```

<br/>目的就是保護自己架設的網站、應用程式，避免**自動化濫用（AutomatedAbuse）**
<br/>常見的程式自動化功能：

{:class="tabletable-bordered"}
 | 項目                  | 說明                                           |
 | --------------------- | ---------------------------------------------- |
 | **1.惡意機器人/爬蟲** | 抓取大量資料（例如價格、文章內容、會員資料）   |
 | **2.暴力破解**        | 不停嘗試帳號密碼登入                           |
 | **3.垃圾訊息**        | 在表單、留言區、自動送廣告連結                 |
 | **4.資源消耗攻擊**    | 刷光你的API配額(簡訊、寄信、第三方API使用次數) |
 | **5.批量註冊**        | 用腳本短時間建立成千上萬個假帳號               |

<br/><imgsrc="/assets/image/LearnNote/2025_09_20/000.png"alt=""width="70%"height="70%"/>
<br/><br/>

<h2>Step2：可用方案 - 補充說明</h2>
在Google的<ahref="https://cloud.google.com/recaptcha/docs/compare-tiers?hl=zh-tw">reCAPTCHA參考指南</a>裡，列出3種方案類型：
<br/>這邊補充各功能具體意義：

{:class="tabletable-bordered"}
| 功能 | 功能說明 | reCAPTCHAEssentials | reCAPTCHAStandard | reCAPTCHAEnterprise |
| ---- | ---- | ------------------- | ----------------- | ------------------- |
| 視覺挑戰支援  |   |   |  |  |
| 網路應用程式防火牆防護  |   |   |  |  |
| 支援多重驗證 (MFA) (預先發布版)  |   |   |  |  |
| 密碼防護 |   |   |  |  |
| 帳戶防護工具  |   |   |  |  |
| 視覺挑戰支援  |   |   |  |  |
| 視覺挑戰支援  |   |   |  |  |



<br/>
<br/><imgsrc="/assets/image/LearnNote/2025_09_20/000.png"alt=""width="70%"height="70%"/>
<br/><br/>


<h2>Step3：方案收費方式</h2>



<br/>
<br/><imgsrc="/assets/image/LearnNote/2025_09_20/000.png"alt=""width="70%"height="70%"/>
<br/><br/>


<h2>Step4：方案與應用場景</h2>


```Markdown
reCAPTCHA採用進階風險分析技術偵測詐欺行為，您可以透過reCAPTCHA保護網站或行動應用程式免受垃圾內容和濫用行為侵擾，並偵測其他類型的詐欺活動，例如憑證填充、帳戶盜用(ATO)和自動建立帳戶。
reCAPTCHA提供更精細的分數、高風險事件的原因代碼、行動應用程式SDK、密碼外洩偵測、多重驗證(MFA)，以及調整網站專屬模型的功能，可保護企業業務。
```

<br/>
<br/><imgsrc="/assets/image/LearnNote/2025_09_20/000.png"alt=""width="70%"height="70%"/>
<br/><br/>





<br/><br/>
<h1>第二部分：啟用配置&管理金鑰</h1>

<h2>Step1：目標</h2>
<br/>
<br/><imgsrc="/assets/image/LearnNote/2025_09_20/000.png"alt=""width="70%"height="70%"/>
<br/><br/>




<br/><br/>
<h1>第三部分：範例專案架構</h1>

<h2>Step1：目標</h2>
<br/>
<br/><imgsrc="/assets/image/LearnNote/2025_09_20/000.png"alt=""width="70%"height="70%"/>
<br/><br/>


<br/><br/>
<h1>第四部分：reCAPTCHADEMO-隱形reCAPTCHA標記</h1>

<h2>Step1：目標</h2>
<br/>
<br/><imgsrc="/assets/image/LearnNote/2025_09_20/000.png"alt=""width="70%"height="70%"/>
<br/><br/>


<br/><br/>
<h1>第五部分：reCAPTCHADEMO-「我不是機器人」核取方塊</h1>

<h2>Step1：目標</h2>
<br/>
<br/><imgsrc="/assets/image/LearnNote/2025_09_20/000.png"alt=""width="70%"height="70%"/>
<br/><br/>


<br/><br/>
<h1>第六部分：reCAPTCHADEMO-以分數為依據(v3)</h1>

<h2>Step1：目標</h2>
<br/>
<br/><imgsrc="/assets/image/LearnNote/2025_09_20/000.png"alt=""width="70%"height="70%"/>
<br/><br/>





<ahref="https://www.google.com/recaptcha/">管理reCAPTCHA</a>





 | reCAPTCHA類型              | 使用者互動                                     | 前端實作難度                     | UX體驗                         | 防機器人機制說明                                                                                                         | 適合應用場景                           |
 | -------------------------- | ---------------------------------------------- | -------------------------------- | ------------------------------ | ------------------------------------------------------------------------------------------------------------------------ | -------------------------------------- |
 | **v2Checkbox**             | 需點「我不是機器人」核取方塊，有時出現圖片驗證 | **低**：僅需簡單HTML標籤         | 介入性中：有視覺挑戰，減少衝擊 | 使用行為分析+圖像驗證挑戰拦截機器人([GoogleforDevelopers][1],[DataDome][2],[SpiderAF][3])                                | 表單、註冊、留言板的快速實作防護       |
 | **InvisiblereCAPTCHA(v2)** | 無需點擊核取框，隱形觸發驗證                   | **中**：需JavaScript整合callback | 較無介入：對使用者更友善       | 背景行為風險評估，自動根據風險可能再顯示驗證畫面([GoogleforDevelopers][1],[DataDome][4])                                 | 需要平滑驗證流程的平台（如登入、提交） |
 | **v3（分數評估）**         | 完全無使用者操作                               | **高**：需後端判斷score與動作    | 零中斷用戶體驗                 | 背景分析使用者行為，回傳0–1分數，自訂門檻採取額外動作([GoogleforDevelopers][1],[GeeTest][5],[DataDome][6],[SpiderAF][3]) | 大型網站、高流量平台，須彈性策略防護   |

[1]:https://developers.google.com/recaptcha/docs/versions?utm_source=chatgpt.com"ChoosingthetypeofreCAPTCHA-GoogleforDevelopers"
[2]:https://datadome.co/guides/captcha/how-does-recaptcha-work/?utm_source=chatgpt.com"HowdoesreCAPTCHAwork?Howitistriggered&bypassed"
[3]:https://spideraf.com/articles/google-recaptcha-v2-vs-v3?utm_source=chatgpt.com"GooglereCAPTCHAv2vsv3–WhichOneisRightforYourWebsite?"
[4]:https://datadome.co/guides/captcha/invisible-recaptcha/?utm_source=chatgpt.com"WhatisinvisiblereCAPTCHA?HowtochooseyourCAPTCHA."
[5]:https://blog.geetest.com/en/article/recaptcha-v2-vs-v3?utm_source=chatgpt.com"GooglereCAPTCHAv2vsv3:KeyDifferencesandSelectionGuide"
[6]:https://datadome.co/guides/captcha/recaptchav2-recaptchav3-efficient-bot-protection/?utm_source=chatgpt.com"ReCAPTCHAv2vs.v3:Efficientbotprotection?[2024Update]"
