---
layout: default_post
title:  "0049. .Net Core 手機瀏覽網站的設備代理模式切換(網站讓用戶指定電腦版、手機版的瀏覽方式)"
excerpt: "C# 學習筆記"
tags: VisualStudio .netCore C# IIS JAVA Android Javascript
---
<div class="summary">
<br/>應用所需：1. Visual Studio 2022
<br/>範例檔案：<a href="https://github.com/gotoa1234/MyBlogExample/tree/main/CustomerDeviceProxyModeSwitchingExample">範例檔案</a> 
<br/>解決問題：1. 如何客製化自己的網站，達成手機設備指定瀏覽模式(電腦版、手機版)
<br/>基本介紹：本篇分為三大部分。
<br/>第一部分：前言-手機的瀏覽器模式
<br/>第二部分：代碼架構
<br/>第三部分：Demo結果

</div>

<div class="title">
    <br/><hr class="titleinner">
	<span></span>
	<hr class="titleinner"><br/>
</div>

<br/><br/>
<h1>第一部分：前言-手機的瀏覽器模式</h1>

<h2>Step 1：範例專案架構</h2>
<br/>

{:class="table table-bordered"}
| 1. SignalR Hub  | ： | 配置SignalR 可註冊的名稱與實際行為 |
| 2. 背景服務  | ： | 實現推播，客戶端註冊後會從背景服務持續推播資料給客戶端 |
| 3. 初始化  | ： | 使用SignalR的基本配置 | 
| 4. 檢視器 | ： | 用Razor實現前端註冊SignalR後接收資料的渲染 |

<br/> <img src="/assets/image/LearnNote/2023_09_20/001.png" width="50%" height="50%" />
<br/><br/>


<h2>Step 2：Nuget安裝</h2>
要架設SignalR伺服器首先要先進行Nuget安裝
<br/>這邊安裝7.0.0版本，伺服器端的版本建議與客戶端一致，否則容易發生異常

``` batch
Microsoft.AspNetCore.SignalR.Common
```

<br/><br/>

<br/><br/>
<h1>第二部分：代碼架構</h1>

<h2>Step 1：發佈檔案-1</h2>
先對專案按下滑鼠右鍵
<br/>選擇發佈
<br/> <img src="/assets/image/LearnNote/2023_09_20/003.png" width="75%" height="75%" />
<br/><br/>

<h2>Step 2：發佈檔案-2</h2>
執行發佈
<br/> <img src="/assets/image/LearnNote/2023_09_20/004.png" width="75%" height="75%" />
<br/><br/>




<br/><br/>
<h1>第三部分：Demo結果</h1>

<h2>Step 1：檢視器-配置</h2>
對應第一部分 => 1.專案架構 => 4. 檢視器 
<br/>以下是完整代碼
<br/><br/>

<h2>Step 2：客戶端對應</h2>
伺服器端安裝的是SignalR 7.0.0 版本
<br/>因此客戶端需要使用對應的SignalR.js

``` javascript
<script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/7.0.0/signalr.js"></script>
```

<br/><br/>
