---
layout: default_post
title:  "0001. 資料庫分散式架構 - 實現強一致性 XA 協議 (eXtended Architecture，XA) - C# 範例並搭配 Mysql 資料庫實作"
excerpt: "資料庫分散式架構"
tags:
  - "Docker"
  - "Docker-Compose"
  - "Container"
  - "Ubuntu"
  - "Linux"
  - "MySQL"
  - "Asp.NET Core Web MVC"
---
<div class="summary">
<br/>應用所需：1. Visual Studio 2022 以上
<br/>&emsp;&emsp;&emsp;&emsp;&emsp;2. Mysql Database 8.0 以上並且有 2 個資料庫實例
<br/>程式說明：分散式資料庫架構 - XA 協議說明、介紹、應用方式
<br/>範例檔案：<a href="https://github.com/gotoa1234/PythonTetris.git">Githu連結</a>
<br/>基本介紹：本篇分為 4 大部分。
<br/>&emsp;&emsp;&emsp;&emsp;&emsp;
<br/>第一部分：資料庫分散式架構維度簡介
<br/>第二部分：XA 協議概述
<br/>第三部分：XA 優缺點 &工作原理 
<br/>第四部分：XA 範例實作
</div>

<div class="title">
    <br/><hr class="titleinner">
	<span></span>
	<hr class="titleinner"><br/>
</div>



<br/><br/>
<h1>第一部分：資料庫分散式架構簡介</h1>
<h2>Step 1：資料庫分散式 - 簡介</h2>

``` markdwon
分散式資料庫是一個邏輯上統一但實際上分散在不同地理位置的資料庫系統。

它將資料分散儲存在多個實體位置的資料庫中,這些資料庫透過網路連接並協同工作,
對使用者來說就像是在使用單一資料庫一樣。
```

<br/>有以下特點：

{:class="table table-bordered"}
| 1. 資料分散性 | 資料實際上分散儲存在不同的實體位置,但在邏輯上是一個整體 |
| 2. 資料獨立性 | 每個節點可以獨立運作,擁有自己的資料管理系統 |
| 3. 持續可用性 | 某個節點故障,系統仍可繼續運作,提高了系統的可靠性 |

<br/>※補上集成圖片
<br/> <img src="/assets/image/Architecture/Database/Distributed/2025_03_29/XXX.png" alt=""  width="70%" height="70%" />
<br/><br/>


<h2>Step 2：資料庫分散式 - 用途</h2>
常見的使用情境如下：

{:class="table table-bordered"}
| 1. 跨國企業的系統 | 可以讓不同地區的分公司存取所需資料 |
| 2. 大型電商平台 | 需要在全球不同地區提供快速的資料存取服務 |
| 3. 社群媒體平台 | 需要處理大量的使用者資料並確保服務的可用性 |

<br/>但是資料庫分散存放會有以下問題要克服：

{:class="table table-bordered"}
| 1. 資料一致性 |
| 2. 同步機制 |
| 3. 網路延遲 |

<br/>本篇介紹 XA 協議，解決分散式資料庫 - 克服上述 3 個困難點
<br/><br/>

<h2>Step 3：資料庫分散式 - 核心為杜</h2>
常見的使用情境如下：

{:class="table table-bordered"}
| 1. 跨國企業的系統 | 可以讓不同地區的分公司存取所需資料 |
| 2. 大型電商平台 | 需要在全球不同地區提供快速的資料存取服務 |
| 3. 社群媒體平台 | 需要處理大量的使用者資料並確保服務的可用性 |

<br/>但是資料庫分散存放會有以下問題要克服：

{:class="table table-bordered"}
| 1. 資料一致性 |
| 2. 同步機制 |
| 3. 網路延遲 |

<br/>本篇介紹 XA 協議，解決分散式資料庫 - 克服上述 3 個困難點
<br/><br/>

分散式資料庫的研究通常從以下幾個主要維度進行觀察和分析
<br/><br/>
<h1>第二部分：XA 協議概述</h1>
<h2>Step 1：</h2>
用自己的IDE 開啟，這裡是用 Visual Studio 2022 開啟 .sln檔案


<br/> <img src="/assets/image/Architecture/Database/Distributed/2025_03_29/001.png" alt=""  width="70%" height="70%" />
<br/><br/>




<br/><br/>
<h1>第三部分：XA 優缺點 &工作原理 </h1>
<h2>Step 1：如何使用</h2>
用自己的IDE 開啟，這裡是用 Visual Studio 2022 開啟 .sln檔案
<br/> <img src="/assets/image/MyProduct/2024_02_11/009.png" width="70%" height="70%" />
<br/><br/>




<br/><br/>
<h1>第四部分：XA 範例實作</h1>
<h2>Step 1：如何使用</h2>
用自己的IDE 開啟，這裡是用 Visual Studio 2022 開啟 .sln檔案
<br/> <img src="/assets/image/MyProduct/2024_02_11/009.png" width="70%" height="70%" />
<br/><br/>

``` Markdown

強一致性（Paxos/Raft）：
- 所有節點數據實時一致
- 寫入延遲較高
- 適合金融交易

最終一致性（Gossip）：
- 允許短暫的數據不一致
- 性能更好
- 適合社交媒體

交易一致性（XA/TCC）：
- 著重於事務完整性
- 支持跨庫事務
- 適合複雜業務流程
```